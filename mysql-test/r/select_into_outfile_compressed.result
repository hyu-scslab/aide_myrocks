CREATE TABLE t1(x VARCHAR(1000));
insert into t1 values (REPEAT("xyz", 100));
insert into t1 select t1.* from t1, t1 t12, t1 t13, t1 t14;
insert into t1 select t1.* from t1, t1 t12, t1 t13, t1 t14;
insert into t1 select t1.* from t1, t1 t12, t1 t13, t1 t14;
SELECT * FROM t1 INTO OUTFILE 'OUTPUT_FILE';;
SELECT * FROM t1 INTO OUTFILE 'OUTPUT_FILE' COMPRESSED;;
truncate table t1;
LOAD DATA LOCAL INFILE 'INPUT_FILE' INTO TABLE t1;;
SELECT * FROM t1 INTO OUTFILE 'OUTPUT_FILE2' COMPRESSED(0);;
truncate table t1;
SELECT * FROM t1 INTO OUTFILE 'OUTPUT_FILE3' COMPRESSED;;
0
create table t10(x varchar(5001));
LOAD DATA LOCAL INFILE 'INPUT_FILE_BIG_ROW' INTO TABLE t10;;
SELECT * FROM t10 INTO OUTFILE 'OUTPUT_FILE_BIG_ROW' COMPRESSED;;
set @saved_select_into_file_fsync_size = @@session.select_into_file_fsync_size;
set @@session.select_into_file_fsync_size = 67108864;
SELECT 1 INTO OUTFILE 'OUTPUT_FILE4';;
SELECT 1 INTO OUTFILE 'OUTPUT_FILE4' COMPRESSED;;
set @@session.select_into_file_fsync_size = @saved_select_into_file_fsync_size;
DROP TABLE t1, t10;
